<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>×‘×“×™×§×”: Gemini ×™×›×•×œ ×œ×™×¦×•×¨ ×ª××•× ×•×ª?</title>
    <style>
        body { font-family: 'Heebo', sans-serif; padding: 2rem; background: #f5f5f5; }
        .container { max-width: 800px; margin: 0 auto; background: white; padding: 2rem; border-radius: 12px; }
        input { width: 100%; padding: 1rem; margin: 1rem 0; border: 2px solid #ddd; border-radius: 8px; }
        button { width: 100%; padding: 1rem; background: #667eea; color: white; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; }
        button:hover { background: #5568d3; }
        .result { margin-top: 2rem; padding: 1rem; background: #f9f9f9; border-radius: 8px; white-space: pre-wrap; font-family: monospace; max-height: 400px; overflow-y: auto; }
        .error { background: #ffe6e6; color: #d32f2f; }
        .success { background: #e6ffe6; color: #388e3c; }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ§ª ×‘×“×™×§×ª ×™×›×•×œ×•×ª Gemini</h1>
        <p><strong>×”×©××œ×”:</strong> ×”×× Gemini ×™×›×•×œ ×œ×™×¦×•×¨ ×ª××•× ×•×ª?</p>
        <p>×‘×•××™ × ×‘×“×•×§!</p>

        <input type="password" id="api-key" placeholder="×”×›× ×™×¡×™ ××ª ×”-Gemini API Key ×©×œ×š">
        <button onclick="testGemini()">ğŸ”¬ ×‘×“×•×§ ××” Gemini ×‘×××ª ××—×–×™×¨</button>

        <div id="result"></div>
    </div>

    <script type="importmap">
    {
      "imports": {
        "@google/generative-ai": "https://esm.run/@google/generative-ai"
      }
    }
    </script>

    <script type="module">
        import { GoogleGenerativeAI } from "@google/generative-ai";

        window.testGemini = async () => {
            const apiKey = document.getElementById('api-key').value;
            const resultDiv = document.getElementById('result');

            if (!apiKey) {
                resultDiv.innerHTML = '<div class="result error">× × ×œ×”×›× ×™×¡ API Key</div>';
                return;
            }

            resultDiv.innerHTML = '<div class="result">â³ ×‘×•×“×§...</div>';

            try {
                const genAI = new GoogleGenerativeAI(apiKey);

                // ×‘×“×™×§×” 1: ××™×œ×• ××•×“×œ×™× ×–××™× ×™×?
                resultDiv.innerHTML += '<div class="result"><strong>ğŸ“‹ ××•×“×œ×™× ×–××™× ×™×:</strong>\n';
                try {
                    const models = await genAI.listModels();
                    resultDiv.innerHTML += JSON.stringify(models, null, 2) + '</div>';
                } catch (e) {
                    resultDiv.innerHTML += '×œ× × ×™×ª×Ÿ ×œ×§×‘×œ ×¨×©×™××ª ××•×“×œ×™×\n</div>';
                }

                // ×‘×“×™×§×” 2: ×”×× gemini-3-pro-image-preview ×§×™×™×?
                resultDiv.innerHTML += '<div class="result"><strong>ğŸ” ×‘×“×™×§×ª ×”××•×“×œ "gemini-3-pro-image-preview":</strong>\n';
                try {
                    const model = genAI.getGenerativeModel({ model: "gemini-3-pro-image-preview" });
                    resultDiv.innerHTML += 'âœ… ×”××•×“×œ × ×˜×¢×Ÿ (××‘×œ ×–×” ×œ× ××•××¨ ×©×”×•× ×§×™×™×!)\n</div>';
                } catch (e) {
                    resultDiv.innerHTML += 'âŒ ×©×’×™××”: ' + e.message + '\n</div>';
                }

                // ×‘×“×™×§×” 3: ××” Gemini ××—×–×™×¨ ×›×©××‘×§×©×™× ××× ×• ×ª××•× ×”?
                resultDiv.innerHTML += '<div class="result"><strong>ğŸ¨ ××‘×§×© ×-Gemini ×œ×™×¦×•×¨ ×ª××•× ×”:</strong>\n';
                try {
                    const model = genAI.getGenerativeModel({ model: "gemini-2.0-flash-exp" });
                    const result = await model.generateContent("Generate an image of a red apple");
                    const response = await result.response;
                    const text = response.text();

                    resultDiv.innerHTML += 'ğŸ“ ×ª×©×•×‘×ª Gemini:\n' + text + '\n\n';

                    // ×”×× ×–×” base64 ×©×œ ×ª××•× ×”?
                    if (text.startsWith('data:image') || text.match(/^[A-Za-z0-9+/]+=*$/)) {
                        resultDiv.innerHTML += 'âœ… × ×¨××” ×›××• ×ª××•× ×”!\n</div>';
                    } else {
                        resultDiv.innerHTML += 'âŒ ×–×” ×˜×§×¡×˜ ×¨×’×™×œ, ×œ× ×ª××•× ×”!\n</div>';
                    }

                } catch (e) {
                    resultDiv.innerHTML += 'âŒ ×©×’×™××”: ' + e.message + '\n</div>';
                }

                // ×‘×“×™×§×” 4: ×”××•×“×œ ×”×××™×ª×™
                resultDiv.innerHTML += '<div class="result success"><strong>âœ… ×”××•×“×œ ×”×××™×ª×™ ×©×¢×•×‘×“:</strong>\n';
                const model = genAI.getGenerativeModel({ model: "gemini-2.0-flash-exp" });
                const result = await model.generateContent("Hello! What can you do?");
                const response = await result.response;
                resultDiv.innerHTML += response.text() + '\n</div>';

            } catch (error) {
                resultDiv.innerHTML += '<div class="result error"><strong>âŒ ×©×’×™××”:</strong>\n' + error.message + '</div>';
            }
        };
    </script>
</body>
</html>
